# Memory Analyzer

SGDK Tool for memory consumption analysis based on the `symbol.txt` file generated during build.

```
====================================================================================================
üìà MEMORY USAGE SUMMARY
====================================================================================================

‚úÖ Total symbols: 593
üíæ Total memory: 274,316 bytes (267.89 KB)

----------------------------------------------------------------------------------------------------
üèÜ USAGE BY CATEGORY
----------------------------------------------------------------------------------------------------

Code                 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà              100.43 KB (37.49%) -  318 symbols
Tilesets             ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                       55.99 KB (20.90%) -    9 symbols
Sprites              ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                          40.01 KB (14.93%) -  173 symbols
Audio                ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                          37.93 KB (14.16%) -   15 symbols
Maps                 ‚ñà‚ñà‚ñà‚ñà                             23.07 KB ( 8.61%) -   51 symbols
Images               ‚ñà                                 6.91 KB ( 2.58%) -   12 symbols
Fonts/Text                                             2.75 KB ( 1.03%) -    4 symbols
Palettes                                               0.81 KB ( 0.30%) -   11 symbols

----------------------------------------------------------------------------------------------------
üîù TOP MEMORY-CONSUMING SYMBOLS
----------------------------------------------------------------------------------------------------

 1. imageScene10_tileset_data                                         Tileset      23.19 KB
 2. musicBosque                                                       Audio        17.75 KB
 3. imageTitleBgb_tileset_data                                        Tileset      13.69 KB
 4. imageBattle_tileset_data                                          Tileset       9.37 KB
 5. drv_xgm2                                                          Audio         8.00 KB
```

## Objective

This tool analyzes the symbol.txt file generated by the compiler and creates graphical visualizations to quickly
identify what is consuming the most memory in your project.

## What does it do?

1. **Parses symbol.txt file** - Extracts all symbols and their sizes
2. **Filters ROM symbols only** - Ignores RAM symbols that don't go into the cartridge
3. **Automatic categorization** - Groups symbols by type (Sprites, Images, Audio, Maps, Code, etc)
4. **Text report** - Chart of consumption by category and detailed symbol list

## How to use

```bash
cd tools/symbol
python3 quick_summary.py
```

### Displays in terminal:

- Total symbols and memory
- ASCII bar chart by category
- Symbols list ordered by highest consumption

## Dependencies

- Python 3.6+

## Categories

The tool automatically categorizes symbols into:

- **Sprites** - All symbols that includes sprite in their name
- **Tilesets** - All symbols that includes tileset in their name
- **Images** - All symbols that includes image in their name
- **Maps** - All symbols that includes map in their name
- **Palettes** - All symbols that includes palette or _pal in their name
- **Fonts/Text** - Fonts and text
- **Audio** - All symbols that includes music, sound, audio, sfx in their name
- **Tilemaps** - All symbols that includes tilemap in their name
- **Code** - Portion of code (functions, methods, etc)
- **Other** - Other uncategorized symbols

## Technical Notes

- The symbol.txt file is automatically generated during project build
- **RAM symbols** (addresses 0xE00000+) are **ignored** as they don't occupy ROM space
- Sizes are calculated by the difference between consecutive addresses
- Symbols with `_size` suffix represent size constants and will be ignored in the final size calculation to avoid double counting

## FAQ

### Why are the numbers different?

Sometimes the reported sizes will be different from the actual ROM file size.

**Why are they different?**
- Some areas of the ROM would be empty (filled with 0x00 or 0xFF)
- Some symbols may overlap in memory
